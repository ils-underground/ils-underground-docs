

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Sierra SQL Tips And Tricks &mdash; ils-underground-docs  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/dark_mode_css/general.css" type="text/css" />
  <link rel="stylesheet" href="_static/dark_mode_css/dark.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/dark_mode_js/default_light.js"></script>
        <script src="_static/dark_mode_js/theme_switcher.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/ils-underground.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_to_contribute.html">How To Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html">README ils-underground.github.io</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ils-underground-docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Sierra SQL Tips And Tricks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/sierra-sql-tips.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="tex2jax_ignore mathjax_ignore section" id="sierra-sql-tips-and-tricks">
<h1><a class="toc-backref" href="#id1">Sierra SQL Tips And Tricks</a><a class="headerlink" href="#sierra-sql-tips-and-tricks" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sierra-sql-tips-and-tricks" id="id1">Sierra SQL Tips And Tricks</a></p>
<ul>
<li><p><a class="reference internal" href="#tables-of-note" id="id2">Tables of Note</a></p>
<ul>
<li><p><a class="reference internal" href="#sierra-view-record-metadata" id="id3"><code class="docutils literal notranslate"><span class="pre">sierra_view.record_metadata</span></code></a></p></li>
<li><p><a class="reference internal" href="#sierra-view-record-sierra-view-property" id="id4"><code class="docutils literal notranslate"><span class="pre">sierra_view.*record</span></code>, <code class="docutils literal notranslate"><span class="pre">sierra_view.*property</span></code></a></p></li>
<li><p><a class="reference internal" href="#sierra-view-view" id="id5"><code class="docutils literal notranslate"><span class="pre">sierra_view.*view</span></code></a></p></li>
<li><p><a class="reference internal" href="#sierra-view-myuser" id="id6"><code class="docutils literal notranslate"><span class="pre">sierra_view.*myuser</span></code></a></p></li>
<li><p><a class="reference internal" href="#sierra-view-iii-user-desktop-option" id="id7"><code class="docutils literal notranslate"><span class="pre">sierra_view.iii</span> <span class="pre">user_desktop_option</span></code></a></p></li>
<li><p><a class="reference internal" href="#sierra-view-varfield" id="id8"><code class="docutils literal notranslate"><span class="pre">sierra_view.varfield</span></code></a></p></li>
<li><p><a class="reference internal" href="#sierra-view-bool-info" id="id9"><code class="docutils literal notranslate"><span class="pre">sierra_view.bool_info</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#account-for-possible-null-values" id="id10">Account for possible NULL Values</a></p></li>
<li><p><a class="reference internal" href="#picking-the-correct-key-to-join-on" id="id11">Picking the Correct Key to JOIN On</a></p></li>
<li><p><a class="reference internal" href="#unique-sql-queries-can-t-easily-be-done-via-the-sda-createlists" id="id12">Unique SQL Queries (can’t easily be done via the SDA / CreateLists)</a></p></li>
<li><p><a class="reference internal" href="#using-indexes-effectively" id="id13">Using Indexes Effectively</a></p></li>
<li><p><a class="reference internal" href="#unexpected-one-to-many-situations" id="id14">Unexpected One-to-Many Situations</a></p></li>
<li><p><a class="reference internal" href="#helpful-useful-queries" id="id15">Helpful / useful queries</a></p>
<ul>
<li><p><a class="reference internal" href="#get-info-about-indexes-tables-postgres-database" id="id16">Get info about indexes / tables postgres database</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#additional-resources" id="id17">Additional Resources</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="tables-of-note">
<h2><a class="toc-backref" href="#id2">Tables of Note</a><a class="headerlink" href="#tables-of-note" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sierra-view-record-metadata">
<h3><a class="toc-backref" href="#id3"><code class="docutils literal notranslate"><span class="pre">sierra_view.record_metadata</span></code></a><a class="headerlink" href="#sierra-view-record-metadata" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>This table is <em>very</em> useful as it contains:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">record_type_code</span></code>: defines record as being bib (b), item (i), patron (p), etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">record_num</span></code>: record number used by the SDA and the webpac / encore</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">creation_date_gmt</span></code>: date the record entered the system (different from a cataloged date)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deletion_date_gmt</span></code>: deleted records will have no other information in the system other than info left in this table</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">record_last_updated_gmt</span></code> : when the record was last modified</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">campus_code</span></code>: useful for telling if the record is from ILL</p>
<ul>
<li><p><strong>Note</strong> that this field <strong>won’t</strong> have a <code class="docutils literal notranslate"><span class="pre">NULL</span></code> value; instead, it’s blank or <code class="docutils literal notranslate"><span class="pre">''</span></code> in cases where there is no <code class="docutils literal notranslate"><span class="pre">campus_code</span></code></p></li>
</ul>
</li>
</ul>
</li>
<li><p>It’s useful to JOIN to this table, as it can be used to filter out records that don’t “belong” to the library (ILL) using the <code class="docutils literal notranslate"><span class="pre">campus_code</span></code> as shown below (note the use of <code class="docutils literal notranslate"><span class="pre">campus_code</span></code> being blank as the filtering condition in the WHERE clause):</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- find titles that have been cataloged in the last 7 days</span>
<span class="k">SELECT</span>
<span class="n">r</span><span class="p">.</span><span class="n">record_type_code</span> <span class="o">||</span> <span class="n">r</span><span class="p">.</span><span class="n">record_num</span> <span class="o">||</span> <span class="s1">&#39;a&#39;</span> <span class="k">as</span> <span class="n">bib_record_num</span><span class="p">,</span>
<span class="n">r</span><span class="p">.</span><span class="n">creation_date_gmt</span><span class="p">,</span>
<span class="n">b</span><span class="p">.</span><span class="n">cataloging_date_gmt</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">record_metadata</span> <span class="k">as</span> <span class="n">r</span>
<span class="k">JOIN</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">bib_record</span> <span class="k">as</span> <span class="n">b</span>
<span class="k">ON</span>
  <span class="n">b</span><span class="p">.</span><span class="n">record_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span>
<span class="k">WHERE</span>
<span class="c1">-- concatinating these together will exclude bib records that are ILL</span>
<span class="n">r</span><span class="p">.</span><span class="n">record_type_code</span> <span class="o">||</span> <span class="n">r</span><span class="p">.</span><span class="n">campus_code</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>
<span class="k">AND</span> <span class="n">r</span><span class="p">.</span><span class="n">deletion_date_gmt</span> <span class="k">IS</span> <span class="k">NULL</span>
<span class="k">AND</span> <span class="n">b</span><span class="p">.</span><span class="n">is_suppressed</span> <span class="k">IS</span> <span class="k">FALSE</span>
<span class="k">AND</span> <span class="n">AGE</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">cataloging_date_gmt</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="s1">&#39;7 days&#39;</span><span class="p">::</span><span class="nb">INTERVAL</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">sierra_view.record_metadata</span></code> is also useful for obtaining the <code class="docutils literal notranslate"><span class="pre">record_num</span></code> from a <code class="docutils literal notranslate"><span class="pre">record_id</span></code> (<code class="docutils literal notranslate"><span class="pre">record_num</span></code> is used in the SDA, webpac / encore for identifying a record). We can JOIN <code class="docutils literal notranslate"><span class="pre">sierra_view.record_metadata</span></code>, appending the columns (generic checkdigit character, <code class="docutils literal notranslate"><span class="pre">a</span></code> can be added to the end for cases where a checkdigit is needed):</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">sierra_view</span><span class="p">.</span><span class="n">record_type_code</span> <span class="o">||</span> <span class="n">sierra_view</span><span class="p">.</span><span class="n">record_number</span> <span class="o">||</span> <span class="s1">&#39;a&#39;</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="n">r</span><span class="p">.</span><span class="n">record_type_code</span> <span class="o">||</span> <span class="n">r</span><span class="p">.</span><span class="n">record_num</span> <span class="o">||</span> <span class="s1">&#39;a&#39;</span> <span class="k">as</span> <span class="n">record_number</span>

<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">record_metadata</span> <span class="k">as</span> <span class="n">r</span>

<span class="k">WHERE</span>
<span class="n">r</span><span class="p">.</span><span class="n">record_type_code</span> <span class="o">||</span> <span class="n">r</span><span class="p">.</span><span class="n">campus_code</span> <span class="o">=</span> <span class="s1">&#39;p&#39;</span>
<span class="k">and</span> <span class="n">r</span><span class="p">.</span><span class="n">deletion_date_gmt</span> <span class="k">is</span> <span class="k">null</span>

<span class="k">limit</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="section" id="sierra-view-record-sierra-view-property">
<h3><a class="toc-backref" href="#id4"><code class="docutils literal notranslate"><span class="pre">sierra_view.*record</span></code>, <code class="docutils literal notranslate"><span class="pre">sierra_view.*property</span></code></a><a class="headerlink" href="#sierra-view-record-sierra-view-property" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Each record type has one of each table</p>
<ul>
<li><p>bib_view, bib_record, bib_record_property</p></li>
</ul>
</li>
<li><p>Record table contains majority of fixed fields</p></li>
<li><p>Record_property table contains additional descriptive fields</p>
<ul>
<li><p>Including useful values such as call_number, title and barcode</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="sierra-view-view">
<h3><a class="toc-backref" href="#id5"><code class="docutils literal notranslate"><span class="pre">sierra_view.*view</span></code></a><a class="headerlink" href="#sierra-view-view" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>View table combines fields from multiple tables Convenience comes at the expense of efficiency (use them sparingly, if at all if possible!)</p></li>
</ul>
<p>Example: <code class="docutils literal notranslate"><span class="pre">sierra_view.bib_view</span></code> combines data from multiple tables, but query speeds can be slower than accessing other tables more directly.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="o">*</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">bib_view</span>

<span class="k">LIMIT</span> <span class="mi">1000</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">(1.6</span> <span class="pre">seconds)</span></code></p>
<p>VS</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="o">*</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">bib_record</span> <span class="k">as</span> <span class="n">b</span>

<span class="k">JOIN</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">bib_record_property</span> <span class="k">as</span> <span class="n">p</span>
<span class="k">ON</span>
  <span class="n">p</span><span class="p">.</span><span class="n">bib_record_id</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">record_id</span>

<span class="k">LIMIT</span> <span class="mi">1000</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">(543</span> <span class="pre">milliseconds)</span></code></p>
</div>
<div class="section" id="sierra-view-myuser">
<h3><a class="toc-backref" href="#id6"><code class="docutils literal notranslate"><span class="pre">sierra_view.*myuser</span></code></a><a class="headerlink" href="#sierra-view-myuser" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">my_user</span></code> table exists for each fixed field in the system</p></li>
<li><p>Contains code and name values for their respective field</p></li>
<li><p>Use to provide translations for system codes</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="n">p</span><span class="p">.</span><span class="n">name</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">item_record</span> <span class="n">i</span>
<span class="k">JOIN</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">itype_property_myuser</span> <span class="n">p</span>
<span class="k">ON</span> <span class="n">i</span><span class="p">.</span><span class="n">itype_code_num</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">code</span>
</pre></div>
</div>
</div>
<div class="section" id="sierra-view-iii-user-desktop-option">
<h3><a class="toc-backref" href="#id7"><code class="docutils literal notranslate"><span class="pre">sierra_view.iii</span> <span class="pre">user_desktop_option</span></code></a><a class="headerlink" href="#sierra-view-iii-user-desktop-option" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">desktop_option_id</span></code> isn’t documented, but you may be able to figure out the option by a combination of <code class="docutils literal notranslate"><span class="pre">value</span></code>, and <code class="docutils literal notranslate"><span class="pre">iii_user_id</span></code> or <code class="docutils literal notranslate"><span class="pre">user_name</span></code> … good luck!</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">DROP</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">temp_users</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="n">TEMP</span> <span class="k">TABLE</span> <span class="n">temp_users</span> <span class="k">as</span>
<span class="k">SELECT</span>
<span class="n">iii_user_id</span><span class="p">,</span>
<span class="n">user_name</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">iii_user_application_myuser</span>

<span class="k">GROUP</span> <span class="k">BY</span>
<span class="n">iii_user_id</span><span class="p">,</span>
<span class="n">user_name</span>
<span class="p">;</span>

<span class="k">DROP</span> <span class="k">INDEX</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">temp_users_iii_user_id</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">temp_users_iii_user_id</span> <span class="k">ON</span> <span class="n">temp_users</span> <span class="p">(</span><span class="n">iii_user_id</span><span class="p">);</span>

<span class="k">SELECT</span>
<span class="n">t</span><span class="p">.</span><span class="n">user_name</span><span class="p">,</span>
<span class="n">t</span><span class="p">.</span><span class="n">iii_user_id</span><span class="p">,</span>
<span class="n">o</span><span class="p">.</span><span class="n">desktop_option_id</span><span class="p">,</span>
<span class="n">o</span><span class="p">.</span><span class="n">value</span>

<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">iii_user_desktop_option</span> <span class="k">as</span> <span class="n">o</span>

<span class="k">LEFT</span> <span class="k">OUTER</span> <span class="k">JOIN</span>
<span class="n">temp_users</span> <span class="k">as</span> <span class="n">t</span>
<span class="k">ON</span>
  <span class="n">t</span><span class="p">.</span><span class="n">iii_user_id</span> <span class="o">=</span> <span class="n">o</span><span class="p">.</span><span class="n">iii_user_id</span>

<span class="k">ORDER</span> <span class="k">BY</span>
<span class="n">t</span><span class="p">.</span><span class="n">user_name</span><span class="p">,</span>
<span class="n">o</span><span class="p">.</span><span class="n">desktop_option_id</span>
<span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="sierra-view-varfield">
<h3><a class="toc-backref" href="#id8"><code class="docutils literal notranslate"><span class="pre">sierra_view.varfield</span></code></a><a class="headerlink" href="#sierra-view-varfield" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>using <code class="docutils literal notranslate"><span class="pre">occ_num</span></code> is a good method for picking the first value of (possibly) repeated values (especially where you may not be expecting or wanting multiple values)</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">--- get patron record id and the first barcode listed on their account</span>
<span class="k">SELECT</span>
<span class="n">r</span><span class="p">.</span><span class="n">record_id</span><span class="p">,</span>
<span class="p">(</span>
    <span class="k">SELECT</span>
    <span class="n">v</span><span class="p">.</span><span class="n">field_content</span>
    <span class="k">FROM</span>
    <span class="n">sierra_view</span><span class="p">.</span><span class="n">varfield</span> <span class="k">as</span> <span class="n">v</span>
    <span class="k">WHERE</span>
    <span class="n">v</span><span class="p">.</span><span class="n">record_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">record_id</span>
    <span class="k">AND</span> <span class="n">v</span><span class="p">.</span><span class="n">varfield_type_code</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>
    <span class="k">ORDER</span> <span class="k">BY</span>
    <span class="n">v</span><span class="p">.</span><span class="n">occ_num</span>

    <span class="k">LIMIT</span> <span class="mi">1</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">barcode</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">patron_record</span> <span class="k">as</span> <span class="n">r</span>

<span class="k">LIMIT</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="section" id="sierra-view-bool-info">
<h3><a class="toc-backref" href="#id9"><code class="docutils literal notranslate"><span class="pre">sierra_view.bool_info</span></code></a><a class="headerlink" href="#sierra-view-bool-info" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>This table has a column called <code class="docutils literal notranslate"><span class="pre">sql_query</span></code> that could be useful for seeing the underlying SQL for create list searches.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">--Count the number of owning libraries for each title in a review file</span>
<span class="c1">--Pass query a review file of items to be weeded</span>
<span class="c1">--Check to see which other locations own those titles and how they&#39;ve performed system wide prior to deleting records</span>

<span class="k">SELECT</span>
<span class="n">id2reckey</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="p">)</span> <span class="o">||</span> <span class="s1">&#39;a&#39;</span> <span class="k">AS</span> <span class="ss">&quot;bib_record&quot;</span><span class="p">,</span>
<span class="n">b</span><span class="p">.</span><span class="n">title</span> <span class="k">AS</span> <span class="ss">&quot;bib_title&quot;</span><span class="p">,</span>
<span class="k">count</span><span class="p">(</span><span class="n">bi</span><span class="p">.</span><span class="n">id</span><span class="p">)</span> <span class="k">AS</span> <span class="ss">&quot;item_count&quot;</span><span class="p">,</span>
<span class="k">count</span><span class="p">(</span><span class="k">distinct</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">agency_code_num</span><span class="p">))</span> <span class="k">AS</span> <span class="ss">&quot;location_count&quot;</span><span class="p">,</span>
<span class="n">array_to_string</span><span class="p">(</span>
    <span class="nb">ARRAY</span><span class="p">(</span>
        <span class="k">SELECT</span> 
        <span class="n">loc</span><span class="p">.</span><span class="n">location_code</span>
        <span class="k">FROM</span>
        <span class="n">sierra_view</span><span class="p">.</span><span class="n">bib_record_location</span> <span class="k">AS</span> <span class="n">loc</span>
        <span class="k">WHERE</span> 
        <span class="n">b</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">loc</span><span class="p">.</span><span class="n">bib_record_id</span>
        <span class="k">ORDER</span> <span class="k">BY</span> <span class="mi">1</span>
    <span class="p">),</span>
    <span class="s1">&#39;,&#39;</span>
<span class="p">)</span> <span class="k">AS</span> <span class="ss">&quot;location codes&quot;</span><span class="p">,</span>
<span class="k">SUM</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">checkout_total</span><span class="p">)</span> <span class="k">AS</span> <span class="ss">&quot;total checkouts&quot;</span><span class="p">,</span>
<span class="k">SUM</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">renewal_total</span><span class="p">)</span> <span class="k">AS</span> <span class="ss">&quot;total renewals&quot;</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">bib_view</span> <span class="k">as</span> <span class="n">b</span> 
<span class="k">JOIN</span> <span class="n">sierra_view</span><span class="p">.</span><span class="n">bool_set</span> <span class="k">as</span> <span class="n">sb</span> <span class="k">ON</span> <span class="n">b</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">sb</span><span class="p">.</span><span class="n">record_metadata_id</span> <span class="k">AND</span> <span class="n">sb</span><span class="p">.</span><span class="n">bool_info_id</span> <span class="o">=</span> <span class="s1">&#39;369&#39;</span>
<span class="k">JOIN</span> <span class="n">Sierra_view</span><span class="p">.</span><span class="n">bib_record_item_record_link</span> <span class="k">as</span> <span class="n">bi</span> <span class="k">ON</span> <span class="n">b</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">bi</span><span class="p">.</span><span class="n">bib_record_id</span>
<span class="k">JOIN</span> <span class="n">sierra_view</span><span class="p">.</span><span class="n">item_record</span> <span class="k">as</span> <span class="n">i</span> <span class="k">ON</span> <span class="n">bi</span><span class="p">.</span><span class="n">item_record_id</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">id</span>
<span class="k">JOIN</span> <span class="n">sierra_view</span><span class="p">.</span><span class="n">record_metadata</span> <span class="k">AS</span> <span class="n">rm</span> <span class="k">ON</span> <span class="n">bi</span><span class="p">.</span><span class="n">item_record_id</span> <span class="o">=</span> <span class="n">rm</span><span class="p">.</span><span class="n">id</span>
<span class="k">group</span> <span class="k">by</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="account-for-possible-null-values">
<h2><a class="toc-backref" href="#id10">Account for possible NULL Values</a><a class="headerlink" href="#account-for-possible-null-values" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">NULL</span></code> is a special value, and you should account for cases where a value can be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, as it can result in unexpected behavior.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">CONCAT()</span></code> function, which is NULL safe, or <code class="docutils literal notranslate"><span class="pre">COALESCE()</span></code> function, which returns the <strong>first</strong> non-null value.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="c1">-- string concatenatination with operator ||</span>
<span class="k">NULL</span> <span class="o">||</span> <span class="s1">&#39;where did this go?!?!&#39;</span> <span class="k">AS</span> <span class="n">ex_1</span><span class="p">,</span>

<span class="c1">-- string concatenatination with operator ||</span>
<span class="k">COALESCE</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;we don&#39;&#39;t get here&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="s1">&#39;remember that COALESCE returns first non-null value!&#39;</span> <span class="k">AS</span> <span class="n">ex_2</span><span class="p">,</span>

<span class="c1">-- string concatenation with CONCAT function (which is NULL safe)</span>
<span class="n">CONCAT</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">&#39;mind your &#39;</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">&#39;values!&#39;</span><span class="p">)</span> <span class="k">AS</span> <span class="n">ex_3</span>
</pre></div>
</div>
<p>Output:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ex1</p></th>
<th class="head"><p>ex2</p></th>
<th class="head"><p>ex3</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NULL</span></code></p></td>
<td><p>“remember that COALESCE returns first non-null value!”</p></td>
<td><p>“mind your values!”</p></td>
</tr>
</tbody>
</table>
</div>
<hr class="docutils" />
<div class="section" id="picking-the-correct-key-to-join-on">
<h2><a class="toc-backref" href="#id11">Picking the Correct Key to JOIN On</a><a class="headerlink" href="#picking-the-correct-key-to-join-on" title="Permalink to this headline">¶</a></h2>
<p>Picking the correct primary / foreign keys for joins can be tricky.</p>
<ul class="simple">
<li><p>Make sure you carefully examine the sierra DNA documentation</p></li>
<li><p>Columns named <code class="docutils literal notranslate"><span class="pre">id</span></code> generally are generally the <strong>primary key</strong>, as is the case in <code class="docutils literal notranslate"><span class="pre">sierra_view.record_metadata</span></code>. This means that it’ll appear in other tables as the <strong>foreign key</strong>. For example:</p></li>
</ul>
<p><strong>INCORRECT:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="n">r</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
<span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
<span class="n">r</span><span class="p">.</span><span class="n">record_num</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">record_metadata</span> <span class="k">as</span> <span class="n">r</span>

<span class="k">JOIN</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">bib_record</span> <span class="k">as</span> <span class="n">b</span>
<span class="k">ON</span>
  <span class="c1">-- THIS IS NOT CORRECT AND WILL RETURN BAD DATA!!!</span>
  <span class="n">b</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span>

<span class="k">LIMIT</span> <span class="mi">100</span>
<span class="p">;</span>
</pre></div>
</div>
<p><strong>CORRECT:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="n">r</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
<span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
<span class="n">r</span><span class="p">.</span><span class="n">record_num</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">record_metadata</span> <span class="k">as</span> <span class="n">r</span>

<span class="k">JOIN</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">bib_record</span> <span class="k">as</span> <span class="n">b</span>
<span class="k">ON</span>
  <span class="c1">-- THIS IS CORRECT (foreign key, `record_id` JOINed to primary key, `id` )</span>
  <span class="n">b</span><span class="p">.</span><span class="n">record_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span>

<span class="k">LIMIT</span> <span class="mi">100</span>
<span class="p">;</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="unique-sql-queries-can-t-easily-be-done-via-the-sda-createlists">
<h2><a class="toc-backref" href="#id12">Unique SQL Queries (can’t easily be done via the SDA / CreateLists)</a><a class="headerlink" href="#unique-sql-queries-can-t-easily-be-done-via-the-sda-createlists" title="Permalink to this headline">¶</a></h2>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- identifies order records across accounting units that lack a location code</span>
<span class="c1">-- due to downloading incomplete data from a vendor</span>
<span class="k">SELECT</span>
<span class="n">r</span><span class="p">.</span><span class="n">record_type_code</span> <span class="o">||</span> <span class="n">r</span><span class="p">.</span><span class="n">record_num</span> <span class="o">||</span> <span class="s1">&#39;a&#39;</span> <span class="k">as</span> <span class="n">order_record_num</span><span class="p">,</span>
<span class="n">r</span><span class="p">.</span><span class="n">creation_date_gmt</span><span class="p">,</span>
<span class="n">o</span><span class="p">.</span><span class="n">accounting_unit_code_num</span>

<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">order_record</span> <span class="k">as</span> <span class="n">o</span>

<span class="k">JOIN</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">record_metadata</span> <span class="k">as</span> <span class="n">r</span>
<span class="k">ON</span>
  <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">o</span><span class="p">.</span><span class="n">record_id</span>

<span class="k">JOIN</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">order_record_cmf</span> <span class="k">as</span> <span class="k">c</span>
<span class="k">ON</span>
  <span class="k">c</span><span class="p">.</span><span class="n">order_record_id</span> <span class="o">=</span> <span class="n">o</span><span class="p">.</span><span class="n">record_id</span>

<span class="k">WHERE</span>
<span class="k">c</span><span class="p">.</span><span class="n">location_code</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span>
<span class="p">;</span>
</pre></div>
</div>
<hr class="docutils" />
</div>
<hr class="docutils" />
<div class="section" id="using-indexes-effectively">
<h2><a class="toc-backref" href="#id13">Using Indexes Effectively</a><a class="headerlink" href="#using-indexes-effectively" title="Permalink to this headline">¶</a></h2>
<p>Using an index can significantly speed up your query.</p>
<p>We can determine what indexes exist (or don’t exist) on table with a query similar to the following:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- find indexes on phrase_entry ...</span>
<span class="c1">-- or, find all indexes by removing</span>
<span class="c1">-- tablename = &#39;phrase_entry&#39;</span>
<span class="c1">-- and uncommenting tablename NOTE LIKE &#39;pg%&#39;</span>
<span class="c1">--</span>
<span class="k">SELECT</span>
<span class="o">*</span>
<span class="k">FROM</span>
<span class="n">pg_indexes</span>
<span class="k">WHERE</span>
<span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;phrase_entry&#39;</span>
<span class="c1">-- tablename NOT LIKE &#39;pg%&#39;</span>
<span class="k">ORDER</span> <span class="k">BY</span>
<span class="n">schemaname</span><span class="p">,</span>
<span class="n">tablename</span><span class="p">,</span>
<span class="n">indexname</span>
<span class="p">;</span>
</pre></div>
</div>
<p>which tells us that one of the following indexes exist:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_phrase_entry</span> <span class="k">ON</span> <span class="n">iiirecord</span><span class="p">.</span><span class="n">phrase_entry</span> <span class="k">USING</span> <span class="n">btree</span> <span class="p">((((</span><span class="n">index_tag</span><span class="p">)::</span><span class="nb">text</span> <span class="o">||</span> <span class="p">(</span><span class="n">index_entry</span><span class="p">)::</span><span class="nb">text</span><span class="p">)),</span> <span class="n">type2</span><span class="p">,</span> <span class="n">insert_title</span><span class="p">,</span> <span class="n">record_key</span><span class="p">)</span>
</pre></div>
</div>
<p>The following query will take advantage of the index, and result in a fast, efficient search (this particular example will search for barcode and return the record it is associated with):</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="n">e</span><span class="p">.</span><span class="n">record_id</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">phrase_entry</span> <span class="k">as</span> <span class="n">e</span>
<span class="k">WHERE</span>
<span class="n">e</span><span class="p">.</span><span class="n">index_tag</span> <span class="o">||</span> <span class="n">e</span><span class="p">.</span><span class="n">index_entry</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span> <span class="o">||</span> <span class="k">LOWER</span><span class="p">(</span><span class="s1">&#39;A000052469475&#39;</span><span class="p">)</span>
<span class="c1">-- 64 msec execution time</span>
<span class="c1">-- EXPLAIN:</span>
<span class="c1">-- Index Scan using idx_phrase_entry on phrase_entry  (cost=0.69..586.22 rows=143 width=8)</span>
<span class="c1">--  Index Cond: (((index_tag)::text || (index_entry)::text) = &#39;ba000052469475&#39;::text)</span>
</pre></div>
</div>
<p>This is the INCORRECT way (just to demonstrate how drastic the difference is of using an index VS not using one)</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="n">e</span><span class="p">.</span><span class="n">record_id</span>
<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">phrase_entry</span> <span class="k">as</span> <span class="n">e</span>
<span class="k">WHERE</span>
<span class="n">e</span><span class="p">.</span><span class="n">index_tag</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span> 
<span class="k">AND</span> <span class="n">e</span><span class="p">.</span><span class="n">index_entry</span> <span class="o">=</span> <span class="k">LOWER</span><span class="p">(</span><span class="s1">&#39;A000052469475&#39;</span><span class="p">)</span>
<span class="c1">-- 28 secs execution time!!!!</span>
<span class="c1">-- EXPLAIN:</span>
<span class="c1">-- Seq Scan on phrase_entry  (cost=0.00..1783427.78 rows=20 width=8)</span>
<span class="c1">--  Filter: (((index_tag)::text = &#39;b&#39;::text) AND ((index_entry)::text = &#39;a000052469475&#39;::text))</span>

<span class="c1">--</span>
<span class="c1">-- sequential scan = bad!</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="unexpected-one-to-many-situations">
<h2><a class="toc-backref" href="#id14">Unexpected One-to-Many Situations</a><a class="headerlink" href="#unexpected-one-to-many-situations" title="Permalink to this headline">¶</a></h2>
<p>Sometimes we only expect 1 row of data to be returned, but we get multiple rows back.</p>
<p>For example, this query:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="n">p</span><span class="p">.</span><span class="n">record_id</span><span class="p">,</span>
<span class="n">v</span><span class="p">.</span><span class="n">field_content</span>

<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">patron_record</span> <span class="k">as</span> <span class="n">p</span>

<span class="k">JOIN</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">varfield</span> <span class="k">as</span> <span class="n">v</span>
<span class="k">ON</span>
  <span class="n">v</span><span class="p">.</span><span class="n">record_id</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">record_id</span>
  <span class="k">AND</span> <span class="n">v</span><span class="p">.</span><span class="n">varfield_type_code</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>

<span class="k">WHERE</span>
<span class="n">p</span><span class="p">.</span><span class="n">record_id</span> <span class="o">=</span> <span class="mi">481037682097</span>
</pre></div>
</div>
<p>returns the following data:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>481037682097;12345679
481037682097;12345678 / PREV ID
</pre></div>
</div>
<p>If we only want one row of data per patron record in our output, we have two options.</p>
<p>1 Grab the first occurrence of the barcode only:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="n">p</span><span class="p">.</span><span class="n">record_id</span><span class="p">,</span>
<span class="p">(</span>
    <span class="c1">-- subquery grabs the first occurrence of the barcode</span>
    <span class="k">SELECT</span>
    <span class="n">v</span><span class="p">.</span><span class="n">field_content</span>
    <span class="k">FROM</span>
    <span class="n">sierra_view</span><span class="p">.</span><span class="n">varfield</span> <span class="k">as</span> <span class="n">v</span>
    <span class="k">WHERE</span>
    <span class="n">v</span><span class="p">.</span><span class="n">record_id</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">record_id</span>
    <span class="k">AND</span> <span class="n">v</span><span class="p">.</span><span class="n">varfield_type_code</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>
    <span class="k">ORDER</span> <span class="k">BY</span>
    <span class="n">v</span><span class="p">.</span><span class="n">occ_num</span>
    <span class="k">LIMIT</span> <span class="mi">1</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">field_content</span>

<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">patron_record</span> <span class="k">as</span> <span class="n">p</span>

<span class="k">WHERE</span>
<span class="n">p</span><span class="p">.</span><span class="n">record_id</span> <span class="o">=</span> <span class="mi">481037682097</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>481037682097;12345679
</pre></div>
</div>
<p>2 Aggregate all the barcodes into one column of data:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="n">p</span><span class="p">.</span><span class="n">record_id</span><span class="p">,</span>
<span class="p">(</span>
    <span class="c1">-- subquery grabs all barcodes</span>
    <span class="k">SELECT</span>
    <span class="n">string_agg</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">field_content</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">v</span><span class="p">.</span><span class="n">occ_num</span><span class="p">)</span>
    <span class="k">FROM</span>
    <span class="n">sierra_view</span><span class="p">.</span><span class="n">varfield</span> <span class="k">as</span> <span class="n">v</span>
    <span class="k">WHERE</span>
    <span class="n">v</span><span class="p">.</span><span class="n">record_id</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">record_id</span>
    <span class="k">AND</span> <span class="n">v</span><span class="p">.</span><span class="n">varfield_type_code</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">fields_content</span>

<span class="k">FROM</span>
<span class="n">sierra_view</span><span class="p">.</span><span class="n">patron_record</span> <span class="k">as</span> <span class="n">p</span>

<span class="k">WHERE</span>
<span class="n">p</span><span class="p">.</span><span class="n">record_id</span> <span class="o">=</span> <span class="mi">481037682097</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>481037682097;12345679,12345678 / PREV ID
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="helpful-useful-queries">
<h2><a class="toc-backref" href="#id15">Helpful / useful queries</a><a class="headerlink" href="#helpful-useful-queries" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-info-about-indexes-tables-postgres-database">
<h3><a class="toc-backref" href="#id16">Get info about indexes / tables postgres database</a><a class="headerlink" href="#get-info-about-indexes-tables-postgres-database" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- find indexes!</span>
<span class="c1">-- NOTE that these indexes are defined not on the view,</span>
<span class="c1">-- but on the iiirecord. The tables and views are assumed </span>
<span class="c1">-- to be similarly named, but that&#39;s not guaranteed</span>
<span class="k">SELECT</span>
<span class="o">*</span>
<span class="k">FROM</span>
<span class="n">pg_indexes</span>
<span class="k">WHERE</span>
<span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;phrase_entry&#39;</span>
<span class="c1">-- tablename NOT LIKE &#39;pg%&#39; -- use this to find ALL indexes</span>
<span class="k">ORDER</span> <span class="k">BY</span>
<span class="n">schemaname</span><span class="p">,</span>
<span class="n">tablename</span><span class="p">,</span>
<span class="n">indexname</span>
<span class="p">;</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- show detailed view of `sierra_view` table_schema</span>
<span class="k">SELECT</span>
<span class="o">*</span>
<span class="k">FROM</span>
<span class="n">information_schema</span><span class="p">.</span><span class="n">columns</span>

<span class="k">WHERE</span>
<span class="n">table_schema</span> <span class="o">=</span> <span class="s1">&#39;sierra_view&#39;</span>

<span class="k">ORDER</span> <span class="k">BY</span>
<span class="k">table_name</span><span class="p">,</span>
<span class="n">ordinal_position</span>
<span class="p">;</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- show all tables</span>
<span class="k">SELECT</span>
<span class="o">*</span>
<span class="k">FROM</span>
<span class="n">pg_catalog</span><span class="p">.</span><span class="n">pg_tables</span>
<span class="k">ORDER</span> <span class="k">BY</span>
<span class="n">tablename</span>
<span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="additional-resources">
<h2><a class="toc-backref" href="#id17">Additional Resources</a><a class="headerlink" href="#additional-resources" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Sierra Specific SQL Collections</p>
<ul>
<li><p><strong>Ray Voelker</strong> - Public Library of Cincinnati And Hamilton County Sierra SQL Wiki: <a class="reference external" href="https://github.com/plch/sierra-sql/wiki">github.com/plch/sierra-sql/wiki</a></p></li>
<li><p><strong>Jeremy Goldstein</strong> - Minuteman Library Network Sierra SQL Wiki: <a class="reference external" href="https://github.com/jmgold/SQL-Queries/wiki">github.com/jmgold/SQL-Queries/wiki</a></p></li>
<li><p><strong>UNC Libraries</strong> Sierra SQL Wiki: <a class="reference external" href="https://github.com/UNC-Libraries/III-Sierra-SQL/wiki">github.com/UNC-Libraries/III-Sierra-SQL/wiki</a></p></li>
</ul>
</li>
<li><p>General SQL Tutorials / Instruction</p>
<ul>
<li><p>Codecademy: https://www.codecademy.com/catalog/language/sql</p></li>
<li><p>WiseOwl Training Videos: https://www.wiseowl.co.uk/sql/videos sql-selecting-data/</p></li>
<li><p>Stanford free online mini-courses in SQL: https://lagunita.stanford.edu/courses/DB/2014/SelfPaced/about</p></li>
</ul>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, ils-underground.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>